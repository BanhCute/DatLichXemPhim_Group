# üé¨ D·ª± √Ån ƒê·∫∑t L·ªãch Xem Phim (Nh√≥m)

[![Status](https://img.shields.io/badge/Status-ƒêang%20Ph√°t%20Tri·ªÉn-brightgreen)](https://github.com/BanhCute/DatLichXemPhim_Group)
[![React](https://img.shields.io/badge/Frontend-React-blue)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Backend-Node.js%20%26%20Express-green)](https://nodejs.org/)
[![Prisma](https://img.shields.io/badge/ORM-Prisma-orange)](https://www.prisma.io/)
[![Neon](https://img.shields.io/badge/Database-Neon%20(PostgreSQL)-purple)](https://neon.tech/)

**D·ª± √Ån ƒê·∫∑t L·ªãch Xem Phim** l√† m·ªôt ·ª©ng d·ª•ng web cho ph√©p ng∆∞·ªùi d√πng t√¨m ki·∫øm, xem th√¥ng tin phim, ƒë·∫∑t l·ªãch xem phim v√† qu·∫£n l√Ω v√©. ƒê√¢y l√† d·ª± √°n nh√≥m cho m√¥n h·ªçc, v·ªõi m·ª•c ti√™u th·ª±c h√†nh quy tr√¨nh l√†m vi·ªác nh√≥m tr√™n Git v√† qu·∫£n l√Ω c√¥ng vi·ªác qua Jira. ·ª®ng d·ª•ng ƒë∆∞·ª£c x√¢y d·ª±ng v·ªõi **React** cho ph·∫ßn frontend, **Node.js** v√† **Express** cho ph·∫ßn backend (d√πng **Prisma** ƒë·ªÉ qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu), v√† s·ª≠ d·ª•ng **Neon** (d·ªãch v·ª• PostgreSQL serverless) l√†m c∆° s·ªü d·ªØ li·ªáu.

---

## üìã T·ªïng Quan D·ª± √Ån

·ª®ng d·ª•ng cung c·∫•p c√°c t√≠nh nƒÉng ch√≠nh:
- **T√¨m ki·∫øm phim**: T√¨m ki·∫øm phim theo t√™n ho·∫∑c th·ªÉ lo·∫°i.
- **Xem chi ti·∫øt phim**: Hi·ªÉn th·ªã th√¥ng tin chi ti·∫øt (m√¥ t·∫£, th·ªùi l∆∞·ª£ng, th·ªÉ lo·∫°i, v.v.).
- **ƒê·∫∑t l·ªãch xem phim**: Ch·ªçn su·∫•t chi·∫øu v√† ƒë·∫∑t v√©.
- **Qu·∫£n l√Ω v√©**: Qu·∫£n l√Ω th√¥ng tin v√© ƒë√£ ƒë·∫∑t (y√™u c·∫ßu ƒëƒÉng nh·∫≠p).
- **Qu·∫£n l√Ω phim v√† su·∫•t chi·∫øu**: Admin c√≥ th·ªÉ th√™m, s·ª≠a, x√≥a phim v√† l·ªãch chi·∫øu.

### C·∫•u tr√∫c d·ª± √°n
- **`frontend/`**: M√£ ngu·ªìn giao di·ªán ng∆∞·ªùi d√πng (React).
  - `src/`: Ch·ª©a m√£ ngu·ªìn React (components, pages, logic, v.v.).
  - `public/`: Ch·ª©a c√°c t·ªáp tƒ©nh (index.html, favicon, v.v.).
- **`backend/`**: M√£ ngu·ªìn server (Node.js, Express, Prisma).
  - `prisma/`: Ch·ª©a schema v√† migration c·ªßa Prisma (`schema.prisma` n·∫±m trong `prisma/`).
  - `src/`: Ch·ª©a m√£ ngu·ªìn ch√≠nh (controllers, routes, utils, v.v.).
    - `controllers/`: Ch·ª©a logic x·ª≠ l√Ω (movieController.js, authController.js, v.v.).
    - `routes/`: Ch·ª©a c√°c route (movies.js, auth.js, showtimes.js, v.v.).
    - `middleware/`: Ch·ª©a middleware (auth.js, v.v.).
    - `utils/`: Ch·ª©a c√°c ti·ªán √≠ch (upload.js, apiFeatures.js, v.v.).
    - `index.js`: T·ªáp ch√≠nh ƒë·ªÉ kh·ªüi ƒë·ªông server.
  - `.gitignore`: ƒê·ªãnh nghƒ©a c√°c t·ªáp/th∆∞ m·ª•c b·ªè qua khi ƒë·∫©y l√™n Git.

**Tr·∫°ng th√°i hi·ªán t·∫°i**:
- **Frontend**: ƒê√£ ch·∫°y ƒë∆∞·ª£c ·ªü m·ª©c c∆° b·∫£n, hi·ªÉn th·ªã giao di·ªán `/home` v·ªõi layout. C·∫ßn ph√°t tri·ªÉn c√°c trang ch√≠nh (Admin, Movie, User, Auth, Booking, ShowTime).
- **Backend**: ƒê√£ t√≠ch h·ª£p Prisma, k·∫øt n·ªëi v·ªõi c∆° s·ªü d·ªØ li·ªáu (Neon), v√† c√≥ c√°c route c∆° b·∫£n (`/api/movies`, `/api/auth`, `/api/showtimes`, `/api/bookings`). Migration ƒë√£ ƒë∆∞·ª£c t·∫°o v√† √°p d·ª•ng ƒë·ªÉ t·∫°o c√°c b·∫£ng trong c∆° s·ªü d·ªØ li·ªáu. ƒê√£ th√™m middleware x√°c th·ª±c v√† upload h√¨nh ·∫£nh b·∫±ng `multer`. C·∫ßn ph√°t tri·ªÉn c√°c route c√≤n l·∫°i (nh∆∞ `/api/reviews`, `/api/genres`, `/api/promotions`, v.v.) v√† logic.

**Ph√¢n c√¥ng c√¥ng vi·ªác**:
- **Backend**:
  - Qu·ªëc: `auth`, `booking`, `payment`
  - L·ª±c: `movie`, `genre`, `movieGenre`
  - B·∫£o Anh: `promotion`, `review`, `showTime`, `upload`
- **Frontend**:
  - B·∫£o: `Admin`, `movie`, `user`
  - Nam: `Auth`, `booking`, `showtime`

---

## üõ†Ô∏è C√¥ng Ngh·ªá S·ª≠ D·ª•ng

| **Ph·∫ßn**                  | **C√¥ng Ngh·ªá**                     |
|---------------------------|-----------------------------------|
| **Frontend**              | React, Material-UI, Moment        |
| **Backend**               | Node.js, Express, Prisma, Multer  |
| **Database**              | Neon (PostgreSQL serverless)      |
| **Qu·∫£n l√Ω Dependencies**  | npm                               |
| **Qu·∫£n l√Ω C√¥ng Vi·ªác**     | Jira                              |

---

## üì¶ Y√™u C·∫ßu H·ªá Th·ªëng

Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu, h√£y ƒë·∫£m b·∫£o b·∫°n ƒë√£ c√†i ƒë·∫∑t:
- **Node.js** (phi√™n b·∫£n 16.x ho·∫∑c 18.x).
- **npm** (th∆∞·ªùng ƒëi k√®m v·ªõi Node.js).
- T√†i kho·∫£n **Neon** ƒë·ªÉ qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu PostgreSQL (n·∫øu t·∫°o c∆° s·ªü d·ªØ li·ªáu m·ªõi).
- Tr√¨nh duy·ªát web (Chrome, Firefox, v.v.).
- (T√πy ch·ªçn) **pgAdmin** ho·∫∑c c√¥ng c·ª• qu·∫£n l√Ω PostgreSQL ƒë·ªÉ ki·ªÉm tra c∆° s·ªü d·ªØ li·ªáu.
- **Git** ƒë·ªÉ l√†m vi·ªác v·ªõi repository.

---

## üöÄ H∆∞·ªõng D·∫´n Thi·∫øt L·∫≠p V√† L√†m Vi·ªác

D∆∞·ªõi ƒë√¢y l√† c√°c b∆∞·ªõc ƒë·ªÉ clone repository, set up, v√† l√†m vi·ªác tr√™n nh√°nh ri√™ng:

### 1. Clone D·ª± √Ån
Clone m√£ ngu·ªìn t·ª´ repository:
```bash
git clone https://github.com/BanhCute/DatLichXemPhim_Group.git
cd DatLichXemPhim_Group
```

### 2. T·∫°o Nh√°nh Ri√™ng ƒê·ªÉ L√†m Vi·ªác
T·∫°o nh√°nh ri√™ng cho ph·∫ßn b·∫°n ph·ª• tr√°ch (frontend ho·∫∑c backend):
```bash
git checkout -b yourname-fe  # N·∫øu l√†m frontend
# ho·∫∑c
git checkout -b yourname-be  # N·∫øu l√†m backend
```

### 3. C√†i ƒê·∫∑t Dependencies

#### Frontend
1. Di chuy·ªÉn v√†o th∆∞ m·ª•c frontend:
   ```bash
   cd frontend
   ```
2. C√†i ƒë·∫∑t c√°c th∆∞ vi·ªán:
   ```bash
   npm install
   ```
3. (T√πy ch·ªçn) T·∫°o t·ªáp `.env` n·∫øu c·∫ßn bi·∫øn m√¥i tr∆∞·ªùng:
   ```env
   REACT_APP_API_URL=http://localhost:5000
   ```

#### Backend
1. Di chuy·ªÉn v√†o th∆∞ m·ª•c backend:
   ```bash
   cd ../backend
   ```
2. C√†i ƒë·∫∑t c√°c th∆∞ vi·ªán:
   ```bash
   npm install
   ```
3. T·∫°o t·ªáp `.env` v·ªõi n·ªôi dung sau:
   ```env
   PORT=5000
   DATABASE_URL="postgresql://<username>:<password>@<host>:<port>/<database>?schema=public"
   JWT_SECRET=your_jwt_secret
   ```
   - **L∆∞u √Ω v·ªÅ `DATABASE_URL`**:
     - B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c∆° s·ªü d·ªØ li·ªáu c≈© tr√™n Neon b·∫±ng c√°ch l·∫•y `DATABASE_URL` t·ª´ Neon Console (trong d·ª± √°n `DatLichXemPhim`).
     - N·∫øu kh√¥ng mu·ªën d√πng c∆° s·ªü d·ªØ li·ªáu c≈©, t·∫°o m·ªôt c∆° s·ªü d·ªØ li·ªáu m·ªõi tr√™n Neon v√† l·∫•y `DATABASE_URL` m·ªõi.
4. T·∫°o Prisma Client:
   ```bash
   npx prisma generate
   ```
5. N·∫øu s·ª≠ d·ª•ng c∆° s·ªü d·ªØ li·ªáu m·ªõi, ch·∫°y migration ƒë·ªÉ t·∫°o c√°c b·∫£ng:
   ```bash
   npx prisma migrate dev --name init
   ```

### 4. Ch·∫°y ·ª®ng D·ª•ng

#### Backend
Trong th∆∞ m·ª•c `backend`, kh·ªüi ƒë·ªông server:
```bash
npm start
```
Server s·∫Ω ch·∫°y t·∫°i `http://localhost:5000`. Ki·ªÉm tra c√°c route:
- `http://localhost:5000/`: Tr·∫£ v·ªÅ "Welcome to DatLichXemPhim API".
- `http://localhost:5000/api/movies`: Tr·∫£ v·ªÅ danh s√°ch phim t·ª´ c∆° s·ªü d·ªØ li·ªáu.
- `http://localhost:5000/api/auth/register`: ƒêƒÉng k√Ω ng∆∞·ªùi d√πng.
- `http://localhost:5000/api/auth/login`: ƒêƒÉng nh·∫≠p.
- `http://localhost:5000/api/showtimes`: L·∫•y danh s√°ch su·∫•t chi·∫øu.
- `http://localhost:5000/api/bookings`: ƒê·∫∑t v√©.

#### Frontend
In a separate terminal, trong th∆∞ m·ª•c `frontend`, ch·∫°y ·ª©ng d·ª•ng React:
```bash
cd frontend
npm start
```
·ª®ng d·ª•ng s·∫Ω m·ªü t·∫°i `http://localhost:3000` trong tr√¨nh duy·ªát, hi·ªÉn th·ªã giao di·ªán `/home`.

### 5. Ph√°t Tri·ªÉn Th√™m
- **Backend**:
  - Qu·ªëc: Ho√†n thi·ªán `auth`, `booking`, `payment` APIs.
  - L·ª±c: Ho√†n thi·ªán `movie`, `genre`, `movieGenre` APIs.
  - B·∫£o Anh: Ho√†n thi·ªán `promotion`, `review`, `showTime`, `upload` APIs.
- **Frontend**:
  - B·∫£o: Thi·∫øt k·∫ø c√°c trang `Admin`, `movie`, `user`.
  - Nam: Thi·∫øt k·∫ø c√°c trang `Auth`, `booking`, `showtime`.

### 6. Commit V√† ƒê·∫©y Code L√™n Nh√°nh C·ªßa B·∫°n
- Sau khi ph√°t tri·ªÉn, commit v√† ƒë·∫©y l√™n:
  ```bash
  git add .
  git commit -m "WDXP-<task-id>: <m√¥-t·∫£-thay-ƒë·ªïi>"
  git push origin yourname-be
  ```

### 7. T·∫°o Pull Request
1. Truy c·∫≠p repository tr√™n GitHub.
2. Nh·∫•n v√†o "Compare & pull request" cho nh√°nh c·ªßa b·∫°n.
3. ƒêi·ªÅn m√¥ t·∫£ thay ƒë·ªïi v√† nh·∫•n **Create pull request**.
4. Th√¥ng b√°o cho tr∆∞·ªüng nh√≥m (BanhCute) ƒë·ªÉ xem x√©t v√† merge v√†o nh√°nh `main`.

---

## üõ†Ô∏è Quy Tr√¨nh L√†m Vi·ªác V·ªõi Git

### 1. L√†m Vi·ªác Tr√™n Nh√°nh Ri√™ng
- Lu√¥n l√†m vi·ªác tr√™n nh√°nh c·ªßa b·∫°n (v√≠ d·ª•: `yourname-fe` ho·∫∑c `yourname-be`).
- Sau khi ho√†n th√†nh m·ªôt ph·∫ßn c√¥ng vi·ªác, commit thay ƒë·ªïi:
  ```bash
  git add .
  git commit -m "WDXP-<task-id>: Add feature X to frontend/backend"
  ```

### 2. ƒê·∫©y Nh√°nh L√™n GitHub
- ƒê·∫©y nh√°nh c·ªßa b·∫°n l√™n repository:
  ```bash
  git push origin yourname-fe  # Ho·∫∑c yourname-be
  ```

### 3. T·∫°o Pull Request
1. Truy c·∫≠p repository tr√™n GitHub.
2. Nh·∫•n v√†o "Compare & pull request" cho nh√°nh c·ªßa b·∫°n.
3. ƒêi·ªÅn m√¥ t·∫£ thay ƒë·ªïi v√† nh·∫•n **Create pull request**.
4. Th√¥ng b√°o cho tr∆∞·ªüng nh√≥m (BanhCute) ƒë·ªÉ xem x√©t v√† merge v√†o nh√°nh `main`.

### 4. C·∫≠p Nh·∫≠t Nh√°nh `main` Sau Khi Merge
- Sau khi Pull Request ƒë∆∞·ª£c merge, c·∫≠p nh·∫≠t nh√°nh `main` tr√™n m√°y c·ªßa b·∫°n:
  ```bash
  git checkout main
  git pull origin main
  ```
- Ti·∫øp t·ª•c t·∫°o nh√°nh m·ªõi cho c√¥ng vi·ªác ti·∫øp theo:
  ```bash
  git checkout -b yourname-new-feature
  ```

---

## üìã Qu·∫£n L√Ω C√¥ng Vi·ªác V·ªõi Jira

D·ª± √°n s·ª≠ d·ª•ng Jira ƒë·ªÉ ph√¢n chia c√¥ng vi·ªác. B·∫£ng Jira ƒë√£ ƒë∆∞·ª£c set up v·ªõi c√°c c·ªôt:
- **TO DO**: C√°c task c·∫ßn l√†m.
- **IN PROGRESS**: Task ƒëang th·ª±c hi·ªán.
- **TESTING**: Task ƒë√£ ho√†n th√†nh, ƒëang ki·ªÉm tra.
- **DONE**: Task ƒë√£ ho√†n t·∫•t v√† ƒë∆∞·ª£c ph√™ duy·ªát.

### Ph√¢n C√¥ng Task Tr√™n Jira
- **Backend**:
  - Qu·ªëc: WDXP-6 (Auth API), WDXP-7 (Booking API), WDXP-8 (Payment API)
  - L·ª±c: WDXP-9 (Movie API), WDXP-10 (Genre API), WDXP-11 (MovieGenre API)
  - B·∫£o Anh: WDXP-12 (Promotion API), WDXP-13 (Review API), WDXP-14 (ShowTime API), WDXP-15 (Upload API)
- **Frontend**:
  - B·∫£o: WDXP-16 (Admin Dashboard), WDXP-17 (Movie Page), WDXP-18 (User Profile Page)
  - Nam: WDXP-19 (Auth Pages), WDXP-20 (Booking Pages), WDXP-21 (ShowTime Pages)

### H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng Jira
1. **B·∫Øt ƒê·∫ßu L√†m Task**:
   - M·ªü b·∫£ng Jira, t√¨m task ƒë∆∞·ª£c g√°n cho b·∫°n.
   - K√©o task t·ª´ **TO DO** sang **IN PROGRESS** khi b·∫Øt ƒë·∫ßu l√†m.
2. **C·∫≠p Nh·∫≠t Tr·∫°ng Th√°i**:
   - Khi ho√†n th√†nh, k√©o task t·ª´ **IN PROGRESS** sang **TESTING**.
   - Sau khi ki·ªÉm tra xong, k√©o sang **DONE**.
3. **Li√™n K·∫øt V·ªõi Commit**:
   - Khi commit code, th√™m m√£ task Jira v√†o commit message, v√≠ d·ª•:
     ```bash
     git commit -m "WDXP-6: Implement Auth API with register and login endpoints"
     ```

---

## ‚ö†Ô∏è L∆∞u √ù Khi L√†m Vi·ªác
1. **Thi·∫øu Dependencies**:
   - N·∫øu `npm install` kh√¥ng c√†i h·∫øt th∆∞ vi·ªán, ki·ªÉm tra `package.json` trong c·∫£ `frontend` v√† `backend` ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ th∆∞ vi·ªán ƒë∆∞·ª£c li·ªát k√™.
2. **T·ªáp `.env`**:
   - T·ªáp n√†y kh√¥ng ƒë∆∞·ª£c ƒë·∫©y l√™n Git (do `.gitignore`). B·∫°n ph·∫£i t·∫°o l·∫°i `.env` trong th∆∞ m·ª•c `frontend` v√† `backend` v·ªõi c√°c bi·∫øn m√¥i tr∆∞·ªùng c·∫ßn thi·∫øt.
3. **K·∫øt N·ªëi C∆° S·ªü D·ªØ Li·ªáu**:
   - N·∫øu d√πng c∆° s·ªü d·ªØ li·ªáu c≈©, ƒë·∫£m b·∫£o `DATABASE_URL` ch√≠nh x√°c v√† c∆° s·ªü d·ªØ li·ªáu kh√¥ng b·ªã xung ƒë·ªôt.
   - N·∫øu d√πng c∆° s·ªü d·ªØ li·ªáu m·ªõi, ch·∫°y migration ƒë·ªÉ t·∫°o c√°c b·∫£ng.
4. **Phi√™n B·∫£n Node.js**:
   - S·ª≠ d·ª•ng Node.js 16.x ho·∫∑c 18.x ƒë·ªÉ tr√°nh l·ªói t∆∞∆°ng th√≠ch.
5. **Thay ƒê·ªïi Schema**:
   - N·∫øu thay ƒë·ªïi `schema.prisma`, h√£y c·∫©n th·∫≠n v√¨ c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn d·ªØ li·ªáu hi·ªán c√≥. Sao l∆∞u d·ªØ li·ªáu tr∆∞·ªõc khi ch·∫°y migration:
     ```bash
     pg_dump -h <host> -U <username> -d DatLichXemPhim > backup.sql
     ```

---

## ‚ùì Kh·∫Øc Ph·ª•c S·ª± C·ªë
- **L·ªói `npx prisma generate`**:
  - ƒê·∫£m b·∫£o t·ªáp `schema.prisma` n·∫±m trong `prisma/` (`prisma/schema.prisma`).
  - Ch·∫°y l·ªánh v·ªõi `--schema`:
    ```bash
    npx prisma generate --schema=prisma/schema.prisma
    ```
  - Th√™m c·∫•u h√¨nh v√†o `package.json`:
    ```json
    "prisma": {
      "schema": "prisma/schema.prisma"
    }
    ```
- **L·ªói `npx prisma migrate dev`**:
  - Ki·ªÉm tra `DATABASE_URL` trong `.env`.
  - ƒê·∫£m b·∫£o Neon ƒëang ho·∫°t ƒë·ªông v√† b·∫°n c√≥ quy·ªÅn truy c·∫≠p.
  - N·∫øu c∆° s·ªü d·ªØ li·ªáu ƒë√£ c√≥ d·ªØ li·ªáu, s·ª≠ d·ª•ng `--create-only` ƒë·ªÉ t·∫°o migration m√† kh√¥ng √°p d·ª•ng ngay:
    ```bash
    npx prisma migrate dev --create-only --name init
    ```
- **L·ªói K·∫øt N·ªëi Database**:
  - Ki·ªÉm tra `DATABASE_URL` trong `.env`.
  - ƒê·∫£m b·∫£o Neon ƒëang ho·∫°t ƒë·ªông v√† b·∫°n c√≥ quy·ªÅn truy c·∫≠p.
- **L·ªói Prisma**:
  - ƒê·∫£m b·∫£o ƒë√£ ch·∫°y `npx prisma generate` sau khi thay ƒë·ªïi `schema.prisma`.
  - N·∫øu migration th·∫•t b·∫°i, ki·ªÉm tra k·∫øt n·ªëi database ho·∫∑c ƒë·ªìng b·ªô schema:
    ```bash
    npx prisma db pull
    npx prisma migrate dev --name sync
    ```
- **L·ªói Frontend Kh√¥ng Hi·ªÉn Th·ªã**:
  - Ki·ªÉm tra console tr√¨nh duy·ªát ƒë·ªÉ xem l·ªói (F12 > Console).
  - ƒê·∫£m b·∫£o backend ƒëang ch·∫°y v√† API tr·∫£ v·ªÅ d·ªØ li·ªáu ƒë√∫ng.
- **L·ªói Git Merge Conflict**:
  - N·∫øu x·∫£y ra xung ƒë·ªôt khi merge, m·ªü t·ªáp xung ƒë·ªôt, s·ª≠a th·ªß c√¥ng, sau ƒë√≥:
    ```bash
    git add .
    git commit -m "Resolve merge conflict"
    git push origin your-branch
    ```

---

## üì¢ G√≥p √ù
N·∫øu b·∫°n g·∫∑p v·∫•n ƒë·ªÅ ho·∫∑c mu·ªën b·ªï sung t√≠nh nƒÉng, h√£y t·∫°o issue tr√™n repository ho·∫∑c li√™n h·ªá tr∆∞·ªüng nh√≥m.

---

## üë• ƒê√≥ng G√≥p
- [BanhCute](https://github.com/BanhCute) (Tr∆∞·ªüng nh√≥m)
- Qu·ªëc (Backend: Auth, Booking, Payment)
- L·ª±c (Backend: Movie, Genre, MovieGenre)
- B·∫£o Anh (Backend: Promotion, Review, ShowTime, Upload)
- B·∫£o (Frontend: Admin, Movie, User)
- Nam (Frontend: Auth, Booking, ShowTime)

---

**D·ª± √Ån ƒê·∫∑t L·ªãch Xem Phim** l√† m·ªôt d·ª± √°n nh√≥m cho m√¥n h·ªçc, nh·∫±m th·ª±c h√†nh quy tr√¨nh l√†m vi·ªác nh√≥m v·ªõi Git v√† Jira. C·∫£m ∆°n b·∫°n ƒë√£ tham gia! üé•
